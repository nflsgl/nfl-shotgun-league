
<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Home - Shotgun League</title>
  <link rel="stylesheet" href="style.css">
  <style>
    #logoutBtn {
      background: none;
      border: none;
      color: #00f;
      text-decoration: underline;
      cursor: pointer;
      font: inherit;
      padding: 0;
    }
    #pickNotice {
      margin-top: 1em;
      font-weight: bold;
    }
  </style>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const user = localStorage.getItem("user");
      if (!user) {
        window.location.href = "/nfl-shotgun-league/index.html";
        return;
      }

      document.getElementById("welcome").textContent = "Welcome, " + user;

      const logoutBtn = document.getElementById("logoutBtn");
      if (logoutBtn) {
        logoutBtn.addEventListener("click", function() {
          if (confirm("Are you sure you want to log out?")) {
            localStorage.clear();
            window.location.href = "/nfl-shotgun-league/index.html";
          }
        });
      }

      // Show pick status
      const allPicks = JSON.parse(localStorage.getItem("allPicks") || "{}");
      const userPicks = allPicks[user] || {};
      const currentWeek = localStorage.getItem("currentWeek") || "1";
      const pickedTeam = userPicks[currentWeek];

      if (pickedTeam) {
        const pickMsg = document.createElement("p");
        pickMsg.id = "pickNotice";
        pickMsg.innerHTML = `
          You have already selected <strong>${pickedTeam}</strong> for Week ${currentWeek}.<br>
          If you want to change your pick, press <a href="/nfl-shotgun-league/pick.html">Submit Pick</a> again.<br>
          You will not be able to change your pick once your selected team has kicked off.
        `;
        document.getElementById("welcome").insertAdjacentElement("afterend", pickMsg);
      }
    });
  </script>
</head>
<body>
  <div id="nav">
    <a href="/nfl-shotgun-league/pick.html">Submit Pick</a> |
    <a href="/nfl-shotgun-league/leaderboard.html">Leaderboard</a> |
    <a href="/nfl-shotgun-league/matrix.html">Matrix</a> |
    <button id="logoutBtn">Logout</button>
  </div>
  <h1 id="welcome">Welcome</h1>
  <p>This is your league home page. Use the nav above to explore your picks and standings.</p>
</body>
</html>
